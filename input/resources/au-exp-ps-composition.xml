<?xml version="1.0" encoding="utf-8"?>
<StructureDefinition xmlns="http://hl7.org/fhir">
	<id value="au-exp-ps-composition"/>
	<url value="http://hl7.org.au.draft/fhir/aups/StructureDefinition/au-exp-ps-composition"/>
	<version value="0.1.0"/>
	<name value="EXPERIMENTALAUPSComposition"/>
	<title value="EXPERIMENTAL AU PS Composition"/>
	<status value="draft"/>
	<experimental value="true"/>
	<description value="This profile is based on the IPS profile with target references for elements flagged with Must Support changed to EXPERIMENTAL AU PS profiles. This is the expected approach for the HL7 AU Patient Summary FHIR IG."/>
	<kind value="resource"/>
	<abstract value="false"/>
	<type value="Composition"/>
	<baseDefinition value="http://hl7.org/fhir/uv/ips/StructureDefinition/Composition-uv-ips"/>
	<derivation value="constraint"/>
	<differential>
		<element id="Composition.subject">
			<path value="Composition.subject"/>
			<type>
				<code value="Reference"/>
				<targetProfile value="http://hl7.org.au.draft/fhir/aups/StructureDefinition/au-exp-ps-patient"/>
			</type>
		</element>
		<element id="Composition.author">
			<path value="Composition.author"/>
			<type>
				<code value="Reference"/>
				<targetProfile value="http://hl7.org.au.draft/fhir/aups/StructureDefinition/au-exp-ps-practitioner"/>
				<targetProfile value="http://hl7.org.au.draft/fhir/aups/StructureDefinition/au-exp-ps-practitionerrole"/>
				<targetProfile value="http://hl7.org/fhir/StructureDefinition/Device"/>
				<targetProfile value="http://hl7.org.au.draft/fhir/aups/StructureDefinition/au-exp-ps-patient"/>
				<targetProfile value="http://hl7.org.au.draft/fhir/aups/StructureDefinition/au-exp-ps-relatedperson"/>
				<targetProfile value="http://hl7.org.au.draft/fhir/aups/StructureDefinition/au-exp-ps-organization"/>
			</type>
		</element>
		<element id="Composition.section">
			<path value="Composition.section"/>
			<slicing>
				<discriminator>
					<type value="pattern"/>
					<path value="code"/>
				</discriminator>
				<ordered value="false"/>
				<rules value="open"/>
			</slicing>
		</element>
		<element id="Composition.section:sectionMedications">
			<path value="Composition.section"/>
			<sliceName value="sectionMedications"/>
		</element>
		<element id="Composition.section:sectionMedications.code">
			<path value="Composition.section.code"/>
			<patternCodeableConcept>
				<coding>
					<system value="http://loinc.org"/>
					<code value="10160-0"/>
				</coding>
			</patternCodeableConcept>
		</element>
		<element id="Composition.section:sectionMedications.entry">
			<path value="Composition.section.entry"/>
			<slicing>
				<discriminator>
					<type value="profile"/>
					<path value="resolve()"/>
				</discriminator>
				<rules value="open"/>
			</slicing>
		</element>
		<element id="Composition.section:sectionMedications.entry:medicationStatement">
			<path value="Composition.section.entry"/>
			<sliceName value="medicationStatement"/>
			<type>
				<code value="Reference"/>
				<targetProfile value="http://hl7.org/fhir/uv/ips/StructureDefinition/MedicationStatement-uv-ips"/>
			</type>
		</element>
		<element id="Composition.section:sectionMedications.entry:medicationRequest">
			<path value="Composition.section.entry"/>
			<sliceName value="medicationRequest"/>
			<type>
				<code value="Reference"/>
				<targetProfile value="http://hl7.org.au.draft/fhir/aups/StructureDefinition/au-exp-ps-medicationrequest"/>
			</type>
		</element>
		<element id="Composition.section:sectionAllergies">
			<path value="Composition.section"/>
			<sliceName value="sectionAllergies"/>
		</element>
		<element id="Composition.section:sectionAllergies.code">
			<path value="Composition.section.code"/>
			<patternCodeableConcept>
				<coding>
					<system value="http://loinc.org"/>
					<code value="48765-2"/>
				</coding>
			</patternCodeableConcept>
		</element>
		<element id="Composition.section:sectionAllergies.entry">
			<path value="Composition.section.entry"/>
			<slicing>
				<discriminator>
					<type value="profile"/>
					<path value="resolve()"/>
				</discriminator>
				<rules value="open"/>
			</slicing>
		</element>
		<element id="Composition.section:sectionAllergies.entry:allergyOrIntolerance">
			<path value="Composition.section.entry"/>
			<sliceName value="allergyOrIntolerance"/>
			<type>
				<code value="Reference"/>
				<targetProfile value="http://hl7.org.au.draft/fhir/aups/StructureDefinition/au-exp-ps-allergyintolerance"/>
			</type>
			<mustSupport value="true"/>
		</element>
		<element id="Composition.section:sectionProblems">
			<path value="Composition.section"/>
			<sliceName value="sectionProblems"/>
		</element>
		<element id="Composition.section:sectionProblems.code">
			<path value="Composition.section.code"/>
			<patternCodeableConcept>
				<coding>
					<system value="http://loinc.org"/>
					<code value="11450-4"/>
				</coding>
			</patternCodeableConcept>
		</element>
		<element id="Composition.section:sectionProblems.entry">
			<path value="Composition.section.entry"/>
			<slicing>
				<discriminator>
					<type value="profile"/>
					<path value="resolve()"/>
				</discriminator>
				<rules value="open"/>
			</slicing>
		</element>
		<element id="Composition.section:sectionProblems.entry:problem">
			<path value="Composition.section.entry"/>
			<sliceName value="problem"/>
			<type>
				<code value="Reference"/>
				<targetProfile value="http://hl7.org.au.draft/fhir/aups/StructureDefinition/au-exp-ps-condition"/>
			</type>
			<mustSupport value="true"/>
		</element>
		<element id="Composition.section:sectionProceduresHx">
			<path value="Composition.section"/>
			<sliceName value="sectionProceduresHx"/>
		</element>
		<element id="Composition.section:sectionProceduresHx.code">
			<path value="Composition.section.code"/>
			<patternCodeableConcept>
				<coding>
					<system value="http://loinc.org"/>
					<code value="47519-4"/>
				</coding>
			</patternCodeableConcept>
		</element>
		<element id="Composition.section:sectionProceduresHx.entry">
			<path value="Composition.section.entry"/>
			<slicing>
				<discriminator>
					<type value="profile"/>
					<path value="resolve()"/>
				</discriminator>
				<rules value="open"/>
			</slicing>
		</element>
		<element id="Composition.section:sectionProceduresHx.entry:procedure">
			<path value="Composition.section.entry"/>
			<sliceName value="procedure"/>
			<type>
				<code value="Reference"/>
				<targetProfile value="http://hl7.org.au.draft/fhir/aups/StructureDefinition/au-exp-ps-procedure"/>
			</type>
		</element>
		<element id="Composition.section:sectionImmunizations">
			<path value="Composition.section"/>
			<sliceName value="sectionImmunizations"/>
		</element>
		<element id="Composition.section:sectionImmunizations.code">
			<path value="Composition.section.code"/>
			<patternCodeableConcept>
				<coding>
					<system value="http://loinc.org"/>
					<code value="11369-6"/>
				</coding>
			</patternCodeableConcept>
		</element>
		<element id="Composition.section:sectionImmunizations.entry">
			<path value="Composition.section.entry"/>
			<slicing>
				<discriminator>
					<type value="profile"/>
					<path value="resolve()"/>
				</discriminator>
				<rules value="open"/>
			</slicing>
		</element>
		<element id="Composition.section:sectionImmunizations.entry:immunization">
			<path value="Composition.section.entry"/>
			<sliceName value="immunization"/>
			<type>
				<code value="Reference"/>
				<targetProfile value="http://hl7.org.au.draft/fhir/aups/StructureDefinition/au-exp-ps-immunization"/>
			</type>
		</element>
	</differential>
</StructureDefinition>